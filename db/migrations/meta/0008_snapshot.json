{
  "id": "68b14742-0312-4371-aa46-cf647a2b2069",
  "prevId": "364ea80c-0538-4c62-9afa-635017b707ff",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.profiles": {
      "name": "profiles",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "membership": {
          "name": "membership",
          "type": "membership",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "payment_provider": {
          "name": "payment_provider",
          "type": "payment_provider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'whop'"
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "whop_user_id": {
          "name": "whop_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "whop_membership_id": {
          "name": "whop_membership_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "plan_duration": {
          "name": "plan_duration",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_cycle_start": {
          "name": "billing_cycle_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "billing_cycle_end": {
          "name": "billing_cycle_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_credit_renewal": {
          "name": "next_credit_renewal",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "usage_credits": {
          "name": "usage_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "used_credits": {
          "name": "used_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'active'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.pending_profiles": {
      "name": "pending_profiles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "membership": {
          "name": "membership",
          "type": "membership",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pro'"
        },
        "payment_provider": {
          "name": "payment_provider",
          "type": "payment_provider",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'whop'"
        },
        "whop_user_id": {
          "name": "whop_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "whop_membership_id": {
          "name": "whop_membership_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "plan_duration": {
          "name": "plan_duration",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "billing_cycle_start": {
          "name": "billing_cycle_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "billing_cycle_end": {
          "name": "billing_cycle_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_credit_renewal": {
          "name": "next_credit_renewal",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "usage_credits": {
          "name": "usage_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "used_credits": {
          "name": "used_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "claimed": {
          "name": "claimed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "claimed_by_user_id": {
          "name": "claimed_by_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "claimed_at": {
          "name": "claimed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "pending_profiles_email_unique": {
          "name": "pending_profiles_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      }
    },
    "public.provider_availability": {
      "name": "provider_availability",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "provider_id": {
          "name": "provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "day_of_week": {
          "name": "day_of_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.provider_blocked_slots": {
      "name": "provider_blocked_slots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "provider_id": {
          "name": "provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "blocked_date": {
          "name": "blocked_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "end_time": {
          "name": "end_time",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.provider_testimonials": {
      "name": "provider_testimonials",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "provider_id": {
          "name": "provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "customer_name": {
          "name": "customer_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "customer_image": {
          "name": "customer_image",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "testimonial_text": {
          "name": "testimonial_text",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_featured": {
          "name": "is_featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.providers": {
      "name": "providers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tagline": {
          "name": "tagline",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bio": {
          "name": "bio",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cover_image_url": {
          "name": "cover_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "profile_image_url": {
          "name": "profile_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gallery_images": {
          "name": "gallery_images",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "location_city": {
          "name": "location_city",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_state": {
          "name": "location_state",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_country": {
          "name": "location_country",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'US'"
        },
        "hourly_rate": {
          "name": "hourly_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'usd'"
        },
        "services": {
          "name": "services",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "years_experience": {
          "name": "years_experience",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "completed_bookings": {
          "name": "completed_bookings",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "average_rating": {
          "name": "average_rating",
          "type": "numeric(2, 1)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.0'"
        },
        "total_reviews": {
          "name": "total_reviews",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_verified": {
          "name": "is_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "stripe_connect_account_id": {
          "name": "stripe_connect_account_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_onboarding_complete": {
          "name": "stripe_onboarding_complete",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "commission_rate": {
          "name": "commission_rate",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0.15'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "providers_user_id_unique": {
          "name": "providers_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        },
        "providers_slug_unique": {
          "name": "providers_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      }
    },
    "public.bookings": {
      "name": "bookings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "provider_id": {
          "name": "provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "customer_id": {
          "name": "customer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "service_name": {
          "name": "service_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "service_price": {
          "name": "service_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "service_duration": {
          "name": "service_duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "booking_date": {
          "name": "booking_date",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "start_time": {
          "name": "start_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "end_time": {
          "name": "end_time",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_amount": {
          "name": "total_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "platform_fee": {
          "name": "platform_fee",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "provider_payout": {
          "name": "provider_payout",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "customer_notes": {
          "name": "customer_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider_notes": {
          "name": "provider_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancellation_reason": {
          "name": "cancellation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_by": {
          "name": "cancelled_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.transactions": {
      "name": "transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "booking_id": {
          "name": "booking_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_charge_id": {
          "name": "stripe_charge_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_transfer_id": {
          "name": "stripe_transfer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_refund_id": {
          "name": "stripe_refund_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "platform_fee": {
          "name": "platform_fee",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "provider_payout": {
          "name": "provider_payout",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "processed_at": {
          "name": "processed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "public.reviews": {
      "name": "reviews",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "booking_id": {
          "name": "booking_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "provider_id": {
          "name": "provider_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "customer_id": {
          "name": "customer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "review_text": {
          "name": "review_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider_response": {
          "name": "provider_response",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "provider_responded_at": {
          "name": "provider_responded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "is_verified_booking": {
          "name": "is_verified_booking",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_published": {
          "name": "is_published",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_flagged": {
          "name": "is_flagged",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "flag_reason": {
          "name": "flag_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "reviews_booking_id_unique": {
          "name": "reviews_booking_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "booking_id"
          ]
        }
      }
    }
  },
  "enums": {
    "public.membership": {
      "name": "membership",
      "schema": "public",
      "values": [
        "free",
        "pro"
      ]
    },
    "public.payment_provider": {
      "name": "payment_provider",
      "schema": "public",
      "values": [
        "stripe",
        "whop"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}